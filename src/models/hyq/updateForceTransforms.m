function out = updateForceTransforms(tr, q, params, consts)

sin_q_LF_HAA = sin( q(1));
cos_q_LF_HAA = cos( q(1));
tr.fr_LF_hipassembly_XF_fr_trunk(1,2) = -sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(1,3) = -cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(1,4) = - 0.207 * cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(1,5) =  0.3735 * cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(1,6) = - 0.3735 * sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(2,2) = -cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(2,3) =  1.0 * sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(2,4) =  0.207 * sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(2,5) = - 0.3735 * sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(2,6) = - 0.3735 * cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(4,5) = -sin_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(4,6) = -cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(5,5) = -cos_q_LF_HAA;
tr.fr_LF_hipassembly_XF_fr_trunk(5,6) =  1.0 * sin_q_LF_HAA;

sin_q_LF_HAA = sin( q(1));
cos_q_LF_HAA = cos( q(1));
tr.fr_trunk_XF_fr_LF_hipassembly(1,4) = - 0.207 * cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(1,5) =  0.207 * sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(2,1) = -sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(2,2) = -cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(2,4) =  0.3735 * cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(2,5) = - 0.3735 * sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(3,1) = -cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(3,2) = sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(3,4) = - 0.3735 * sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(3,5) = - 0.3735 * cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(5,4) = -sin_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(5,5) = -cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(6,4) = -cos_q_LF_HAA;
tr.fr_trunk_XF_fr_LF_hipassembly(6,5) = sin_q_LF_HAA;

sin_q_LF_HFE = sin( q(2));
cos_q_LF_HFE = cos( q(2));
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(1,1) = cos_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(1,3) = sin_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(1,5) = - 0.08 * sin_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(2,1) = -sin_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(2,3) = cos_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(2,5) = - 0.08 * cos_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(4,4) = cos_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(4,6) =  1.0 * sin_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(5,4) = -sin_q_LF_HFE;
tr.fr_LF_upperleg_XF_fr_LF_hipassembly(5,6) =  1.0 * cos_q_LF_HFE;

sin_q_LF_HFE = sin( q(2));
cos_q_LF_HFE = cos( q(2));
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(1,1) = cos_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(1,2) = -sin_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(2,4) = - 0.08 * sin_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(2,5) = - 0.08 * cos_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(3,1) = sin_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(3,2) = cos_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(4,4) = cos_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(4,5) = -sin_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(6,4) = sin_q_LF_HFE;
tr.fr_LF_hipassembly_XF_fr_LF_upperleg(6,5) = cos_q_LF_HFE;

sin_q_LF_KFE = sin( q(3));
cos_q_LF_KFE = cos( q(3));
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(1,1) = cos_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(1,2) = sin_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(1,6) =  0.35 * sin_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(2,1) = -sin_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(2,2) = cos_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(2,6) =  0.35 * cos_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(4,4) = cos_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(4,5) = sin_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(5,4) = -sin_q_LF_KFE;
tr.fr_LF_lowerleg_XF_fr_LF_upperleg(5,5) = cos_q_LF_KFE;

sin_q_LF_KFE = sin( q(3));
cos_q_LF_KFE = cos( q(3));
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(1,1) = cos_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(1,2) = -sin_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(2,1) = sin_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(2,2) = cos_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(3,4) =  0.35 * sin_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(3,5) =  0.35 * cos_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(4,4) = cos_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(4,5) = -sin_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(5,4) = sin_q_LF_KFE;
tr.fr_LF_upperleg_XF_fr_LF_lowerleg(5,5) = cos_q_LF_KFE;

sin_q_RF_HAA = sin( q(4));
cos_q_RF_HAA = cos( q(4));
tr.fr_RF_hipassembly_XF_fr_trunk(1,2) =  1.0 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(1,3) = -cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(1,4) =  0.207 * cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(1,5) =  0.3735 * cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(1,6) =  0.3735 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(2,2) =  1.0 * cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(2,3) =  1.0 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(2,4) = - 0.207 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(2,5) = - 0.3735 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(2,6) =  0.3735 * cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(4,5) =  1.0 * sin_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(4,6) = -cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(5,5) =  1.0 * cos_q_RF_HAA;
tr.fr_RF_hipassembly_XF_fr_trunk(5,6) =  1.0 * sin_q_RF_HAA;

sin_q_RF_HAA = sin( q(4));
cos_q_RF_HAA = cos( q(4));
tr.fr_trunk_XF_fr_RF_hipassembly(1,4) =  0.207 * cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(1,5) = - 0.207 * sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(2,1) = sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(2,2) = cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(2,4) =  0.3735 * cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(2,5) = - 0.3735 * sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(3,1) = -cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(3,2) = sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(3,4) =  0.3735 * sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(3,5) =  0.3735 * cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(5,4) = sin_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(5,5) = cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(6,4) = -cos_q_RF_HAA;
tr.fr_trunk_XF_fr_RF_hipassembly(6,5) = sin_q_RF_HAA;

sin_q_RF_HFE = sin( q(5));
cos_q_RF_HFE = cos( q(5));
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(1,1) = cos_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(1,3) = -sin_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(1,5) =  0.08 * sin_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(2,1) = -sin_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(2,3) = -cos_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(2,5) =  0.08 * cos_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(4,4) = cos_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(4,6) = -sin_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(5,4) = -sin_q_RF_HFE;
tr.fr_RF_upperleg_XF_fr_RF_hipassembly(5,6) = -cos_q_RF_HFE;

sin_q_RF_HFE = sin( q(5));
cos_q_RF_HFE = cos( q(5));
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(1,1) = cos_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(1,2) = -sin_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(2,4) =  0.08 * sin_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(2,5) =  0.08 * cos_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(3,1) = -sin_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(3,2) = -cos_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(4,4) = cos_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(4,5) = -sin_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(6,4) = -sin_q_RF_HFE;
tr.fr_RF_hipassembly_XF_fr_RF_upperleg(6,5) = -cos_q_RF_HFE;

sin_q_RF_KFE = sin( q(6));
cos_q_RF_KFE = cos( q(6));
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(1,1) = cos_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(1,2) = sin_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(1,6) =  0.35 * sin_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(2,1) = -sin_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(2,2) = cos_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(2,6) =  0.35 * cos_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(4,4) = cos_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(4,5) = sin_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(5,4) = -sin_q_RF_KFE;
tr.fr_RF_lowerleg_XF_fr_RF_upperleg(5,5) = cos_q_RF_KFE;

sin_q_RF_KFE = sin( q(6));
cos_q_RF_KFE = cos( q(6));
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(1,1) = cos_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(1,2) = -sin_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(2,1) = sin_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(2,2) = cos_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(3,4) =  0.35 * sin_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(3,5) =  0.35 * cos_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(4,4) = cos_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(4,5) = -sin_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(5,4) = sin_q_RF_KFE;
tr.fr_RF_upperleg_XF_fr_RF_lowerleg(5,5) = cos_q_RF_KFE;

sin_q_LH_HAA = sin( q(7));
cos_q_LH_HAA = cos( q(7));
tr.fr_LH_hipassembly_XF_fr_trunk(1,2) = -sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(1,3) = -cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(1,4) = - 0.207 * cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(1,5) = - 0.3735 * cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(1,6) =  0.3735 * sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(2,2) = -cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(2,3) =  1.0 * sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(2,4) =  0.207 * sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(2,5) =  0.3735 * sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(2,6) =  0.3735 * cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(4,5) = -sin_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(4,6) = -cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(5,5) = -cos_q_LH_HAA;
tr.fr_LH_hipassembly_XF_fr_trunk(5,6) =  1.0 * sin_q_LH_HAA;

sin_q_LH_HAA = sin( q(7));
cos_q_LH_HAA = cos( q(7));
tr.fr_trunk_XF_fr_LH_hipassembly(1,4) = - 0.207 * cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(1,5) =  0.207 * sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(2,1) = -sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(2,2) = -cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(2,4) = - 0.3735 * cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(2,5) =  0.3735 * sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(3,1) = -cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(3,2) = sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(3,4) =  0.3735 * sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(3,5) =  0.3735 * cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(5,4) = -sin_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(5,5) = -cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(6,4) = -cos_q_LH_HAA;
tr.fr_trunk_XF_fr_LH_hipassembly(6,5) = sin_q_LH_HAA;

sin_q_LH_HFE = sin( q(8));
cos_q_LH_HFE = cos( q(8));
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(1,1) = cos_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(1,3) = sin_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(1,5) = - 0.08 * sin_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(2,1) = -sin_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(2,3) = cos_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(2,5) = - 0.08 * cos_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(4,4) = cos_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(4,6) =  1.0 * sin_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(5,4) = -sin_q_LH_HFE;
tr.fr_LH_upperleg_XF_fr_LH_hipassembly(5,6) =  1.0 * cos_q_LH_HFE;

sin_q_LH_HFE = sin( q(8));
cos_q_LH_HFE = cos( q(8));
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(1,1) = cos_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(1,2) = -sin_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(2,4) = - 0.08 * sin_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(2,5) = - 0.08 * cos_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(3,1) = sin_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(3,2) = cos_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(4,4) = cos_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(4,5) = -sin_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(6,4) = sin_q_LH_HFE;
tr.fr_LH_hipassembly_XF_fr_LH_upperleg(6,5) = cos_q_LH_HFE;

sin_q_LH_KFE = sin( q(9));
cos_q_LH_KFE = cos( q(9));
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(1,1) = cos_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(1,2) = sin_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(1,6) =  0.35 * sin_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(2,1) = -sin_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(2,2) = cos_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(2,6) =  0.35 * cos_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(4,4) = cos_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(4,5) = sin_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(5,4) = -sin_q_LH_KFE;
tr.fr_LH_lowerleg_XF_fr_LH_upperleg(5,5) = cos_q_LH_KFE;

sin_q_LH_KFE = sin( q(9));
cos_q_LH_KFE = cos( q(9));
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(1,1) = cos_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(1,2) = -sin_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(2,1) = sin_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(2,2) = cos_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(3,4) =  0.35 * sin_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(3,5) =  0.35 * cos_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(4,4) = cos_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(4,5) = -sin_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(5,4) = sin_q_LH_KFE;
tr.fr_LH_upperleg_XF_fr_LH_lowerleg(5,5) = cos_q_LH_KFE;

sin_q_RH_HAA = sin( q(10));
cos_q_RH_HAA = cos( q(10));
tr.fr_RH_hipassembly_XF_fr_trunk(1,2) =  1.0 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(1,3) = -cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(1,4) =  0.207 * cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(1,5) = - 0.3735 * cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(1,6) = - 0.3735 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(2,2) =  1.0 * cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(2,3) =  1.0 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(2,4) = - 0.207 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(2,5) =  0.3735 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(2,6) = - 0.3735 * cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(4,5) =  1.0 * sin_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(4,6) = -cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(5,5) =  1.0 * cos_q_RH_HAA;
tr.fr_RH_hipassembly_XF_fr_trunk(5,6) =  1.0 * sin_q_RH_HAA;

sin_q_RH_HAA = sin( q(10));
cos_q_RH_HAA = cos( q(10));
tr.fr_trunk_XF_fr_RH_hipassembly(1,4) =  0.207 * cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(1,5) = - 0.207 * sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(2,1) = sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(2,2) = cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(2,4) = - 0.3735 * cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(2,5) =  0.3735 * sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(3,1) = -cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(3,2) = sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(3,4) = - 0.3735 * sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(3,5) = - 0.3735 * cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(5,4) = sin_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(5,5) = cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(6,4) = -cos_q_RH_HAA;
tr.fr_trunk_XF_fr_RH_hipassembly(6,5) = sin_q_RH_HAA;

sin_q_RH_HFE = sin( q(11));
cos_q_RH_HFE = cos( q(11));
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(1,1) = cos_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(1,3) = -sin_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(1,5) =  0.08 * sin_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(2,1) = -sin_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(2,3) = -cos_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(2,5) =  0.08 * cos_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(4,4) = cos_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(4,6) = -sin_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(5,4) = -sin_q_RH_HFE;
tr.fr_RH_upperleg_XF_fr_RH_hipassembly(5,6) = -cos_q_RH_HFE;

sin_q_RH_HFE = sin( q(11));
cos_q_RH_HFE = cos( q(11));
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(1,1) = cos_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(1,2) = -sin_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(2,4) =  0.08 * sin_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(2,5) =  0.08 * cos_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(3,1) = -sin_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(3,2) = -cos_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(4,4) = cos_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(4,5) = -sin_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(6,4) = -sin_q_RH_HFE;
tr.fr_RH_hipassembly_XF_fr_RH_upperleg(6,5) = -cos_q_RH_HFE;

sin_q_RH_KFE = sin( q(12));
cos_q_RH_KFE = cos( q(12));
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(1,1) = cos_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(1,2) = sin_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(1,6) =  0.35 * sin_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(2,1) = -sin_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(2,2) = cos_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(2,6) =  0.35 * cos_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(4,4) = cos_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(4,5) = sin_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(5,4) = -sin_q_RH_KFE;
tr.fr_RH_lowerleg_XF_fr_RH_upperleg(5,5) = cos_q_RH_KFE;

sin_q_RH_KFE = sin( q(12));
cos_q_RH_KFE = cos( q(12));
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(1,1) = cos_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(1,2) = -sin_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(2,1) = sin_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(2,2) = cos_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(3,4) =  0.35 * sin_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(3,5) =  0.35 * cos_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(4,4) = cos_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(4,5) = -sin_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(5,4) = sin_q_RH_KFE;
tr.fr_RH_upperleg_XF_fr_RH_lowerleg(5,5) = cos_q_RH_KFE;



out = tr;